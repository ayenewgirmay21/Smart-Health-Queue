<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Health Queue & Record System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2a5bd7;
            --secondary: #4cc9c8;
            --accent: #ff6b6b;
            --light: #f8f9fa;
            --dark: #343a40;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --gray: #6c757d;
            --light-gray: #e9ecef;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background-color: #f5f7fb; color: var(--dark); line-height: 1.6; }
        .container { display: flex; min-height: 100vh; }
        .sidebar { width: 250px; background: linear-gradient(to bottom, var(--primary), #1a40a0); color: white; padding: 20px 0; display: flex; flex-direction: column; }
        .logo { padding: 0 20px 20px; border-bottom: 1px solid rgba(255,255,255,0.1); text-align: center; }
        .logo h1 { font-size: 1.5rem; margin-top: 10px; }
        .logo span { color: var(--secondary); }
        .nav-links { padding: 30px 0; flex: 1; }
        .nav-links li { list-style: none; margin-bottom: 5px; }
        .nav-links a { color: rgba(255,255,255,0.9); text-decoration: none; padding: 12px 20px; display: flex; align-items: center; transition: all 0.3s; border-left: 4px solid transparent; }
        .nav-links a:hover, .nav-links a.active { background: rgba(255,255,255,0.1); color: white; border-left: 4px solid var(--secondary); }
        .nav-links i { margin-right: 10px; font-size: 1.2rem; }
        .main-content { flex: 1; padding: 20px; overflow-y: auto; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; background: white; padding: 15px 20px; border-radius: 10px; box-shadow: 0 3px 10px rgba(0,0,0,0.08); }
        .search-box { display: flex; align-items: center; background: var(--light); border-radius: 50px; padding: 5px 15px; width: 300px; }
        .search-box input { background: transparent; border: none; outline: none; padding: 8px; width: 100%; }
        .user-info { display: flex; align-items: center; }
        .user-info img { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; margin-right: 10px; }
        .dashboard-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .card { background: white; border-radius: 10px; padding: 20px; box-shadow: 0 3px 10px rgba(0,0,0,0.08); }
        .stat-card { display: flex; align-items: center; }
        .stat-icon { width: 60px; height: 60px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; margin-right: 15px; }
        .patients .stat-icon { background: rgba(42,91,215,0.2); color: var(--primary); }
        .queue .stat-icon { background: rgba(255,107,107,0.2); color: var(--accent); }
        .doctors .stat-icon { background: rgba(76,201,200,0.2); color: var(--secondary); }
        .stat-info h3 { font-size: 1.5rem; margin-bottom: 5px; }
        .stat-info p { color: var(--gray); font-size: 0.9rem; }
        .queue-section { margin-bottom: 30px; }
        .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .section-title { font-size: 1.3rem; font-weight: 600; }
        .btn { padding: 8px 16px; border-radius: 6px; border: none; cursor: pointer; font-weight: 500; transition: all 0.3s; }
        .btn-primary { background: var(--primary); color: white; }
        .btn-primary:hover { background: #1a4bc2; }
        .queue-list { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 3px 10px rgba(0,0,0,0.08); }
        .queue-header { display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; padding: 15px 20px; background: var(--light); font-weight: 600; border-bottom: 1px solid var(--light-gray); }
        .queue-item { display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; padding: 15px 20px; border-bottom: 1px solid var(--light-gray); align-items: center; }
        .queue-item:last-child { border-bottom: none; }
        .status { padding: 5px 10px; border-radius: 50px; font-size: 0.8rem; font-weight: 500; display: inline-block; }
        .status-waiting { background: rgba(255,193,7,0.2); color: #d39e00; }
        .status-in-progress { background: rgba(0,123,255,0.2); color: #0062cc; }
        .status-completed { background: rgba(40,167,69,0.2); color: #1e7e34; }
        .patient-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .patient-card { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 3px 10px rgba(0,0,0,0.08); }
        .patient-header { padding: 20px; background: linear-gradient(to right, var(--primary), #3a6ce0); color: white; display: flex; align-items: center; }
        .patient-header img { width: 60px; height: 60px; border-radius: 50%; object-fit: cover; margin-right: 15px; border: 3px solid rgba(255,255,255,0.3); }
        .patient-info { padding: 20px; }
        .patient-detail { display: flex; justify-content: space-between; margin-bottom: 12px; padding-bottom: 12px; border-bottom: 1px solid var(--light-gray); }
        .patient-detail:last-child { margin-bottom: 0; padding-bottom: 0; border-bottom: none; }
        .detail-label { color: var(--gray); }

        /* Login/Signup Modal */
        #auth-modal { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.5); display:flex; justify-content:center; align-items:center; z-index:9999; }
        #auth-modal .modal-content { background:white; padding:30px; border-radius:10px; width:350px; text-align:center; }
        #auth-modal input { width:100%; padding:10px; margin:10px 0; border-radius:6px; border:1px solid #ccc; }
        #auth-modal button { padding:10px 20px; border-radius:6px; border:none; background: var(--primary); color:white; cursor:pointer; }
        #auth-modal button:hover { background:#1a4bc2; }
        #auth-modal p { cursor:pointer; color: var(--primary); margin-top:10px; }

        /* Add Patient Modal */
        #patient-modal { position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.5); display:none; justify-content:center; align-items:center; z-index:9999; }
        #patient-modal .modal-content { background:white; padding:30px; border-radius:10px; width:400px; text-align:left; }
        #patient-modal input { width:100%; padding:10px; margin:10px 0; border-radius:6px; border:1px solid #ccc; }
        #patient-modal button { padding:10px 20px; border-radius:6px; border:none; background: var(--primary); color:white; cursor:pointer; }
        #patient-modal button:hover { background:#1a4bc2; }
    </style>
</head>
<body>

<!-- Auth Modal -->
<div id="auth-modal">
    <div class="modal-content">
        <h2 id="auth-title">Login</h2>
        <input type="text" id="username" placeholder="Username">
        <input type="password" id="password" placeholder="Password">
        <button id="auth-btn">Login</button>
        <p id="switch-auth">Don't have an account? Sign Up</p>
    </div>
</div>

<!-- Add Patient Modal -->
<div id="patient-modal">
    <div class="modal-content">
        <h2>Add New Patient</h2>
        <input type="text" id="patient-name" placeholder="Patient Name">
        <input type="number" id="patient-age" placeholder="Age">
        <input type="text" id="patient-condition" placeholder="Condition">
        <input type="text" id="patient-doctor" placeholder="Assigned Doctor">
        <button id="add-patient-btn">Add Patient</button>
    </div>
</div>

<!-- Dashboard Container -->
<div class="container" id="dashboard" style="display:none;">
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo"><h1>Health<span>Queue</span></h1><p>Smart Health Management</p></div>
        <ul class="nav-links">
            <li><a href="#" class="active"><i class="fas fa-home"></i> Dashboard</a></li>
            <li><a href="#"><i class="fas fa-user-injured"></i> Patients</a></li>
            <li><a href="#"><i class="fas fa-list-alt"></i> Queue</a></li>
            <li><a href="#"><i class="fas fa-calendar-alt"></i> Appointments</a></li>
            <li><a href="#"><i class="fas fa-file-medical"></i> Records</a></li>
            <li><a href="#"><i class="fas fa-stethoscope"></i> Doctors</a></li>
            <li><a href="#"><i class="fas fa-cog"></i> Settings</a></li>
            <li><a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="header">
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="Search patients, records, etc...">
            </div>
            <div class="user-info">
                <img src="https://xsgames.co/randomusers/avatar.php?g=male" alt="User" id="user-avatar">
                <div>
                    <h4 id="user-name">Dr. John Smith</h4>
                    <p>Cardiologist</p>
                </div>
            </div>
        </div>

        <!-- Dashboard Cards -->
        <div class="dashboard-cards">
            <div class="card stat-card patients">
                <div class="stat-icon"><i class="fas fa-user-injured"></i></div>
                <div class="stat-info"><h3 id="total-patients">3</h3><p>Total Patients</p></div>
            </div>
            <div class="card stat-card queue">
                <div class="stat-icon"><i class="fas fa-list-alt"></i></div>
                <div class="stat-info"><h3 id="in-queue">2</h3><p>In Queue</p></div>
            </div>
            <div class="card stat-card doctors">
                <div class="stat-icon"><i class="fas fa-stethoscope"></i></div>
                <div class="stat-info"><h3>18</h3><p>Available Doctors</p></div>
            </div>
        </div>

        <!-- Queue Section -->
        <div class="queue-section">
            <div class="section-header">
                <h2 class="section-title">Current Queue</h2>
                <button class="btn btn-primary" id="open-patient-form">Add Patient</button>
            </div>
            <div class="queue-list" id="queue-list">
                <div class="queue-header"><div>Patient</div><div>Time</div><div>Doctor</div><div>Status</div></div>
                <div class="queue-item"><div>Sarah Johnson</div><div>09:15 AM</div><div>Dr. Miller</div><div><span class="status status-waiting">Waiting</span></div></div>
                <div class="queue-item"><div>Michael Brown</div><div>09:30 AM</div><div>Dr. Wilson</div><div><span class="status status-waiting">Waiting</span></div></div>
            </div>
        </div>

        <!-- Patient Records -->
        <div class="patient-section">
            <div class="section-header">
                <h2 class="section-title">Patient Records</h2>
            </div>
            <div class="patient-grid" id="patient-grid">
                <div class="patient-card"><div class="patient-header"><img src="https://xsgames.co/randomusers/avatar.php?g=female"><div><h3>Sarah Johnson</h3><p>ID: P-12345</p></div></div><div class="patient-info"><div class="patient-detail"><span class="detail-label">Age:</span><span>32 years</span></div><div class="patient-detail"><span class="detail-label">Condition:</span><span>Hypertension</span></div></div></div>
                <div class="patient-card"><div class="patient-header"><img src="https://xsgames.co/randomusers/avatar.php?g=male"><div><h3>Michael Brown</h3><p>ID: P-12346</p></div></div><div class="patient-info"><div class="patient-detail"><span class="detail-label">Age:</span><span>45 years</span></div><div class="patient-detail"><span class="detail-label">Condition:</span><span>Diabetes Type II</span></div></div></div>
            </div>
        </div>
    </div>
</div>

<script>
    // ---------------- Auth ----------------
    const modal = document.getElementById('auth-modal');
    const dashboard = document.getElementById('dashboard');
    const authTitle = document.getElementById('auth-title');
    const authBtn = document.getElementById('auth-btn');
    const switchAuth = document.getElementById('switch-auth');
    let isLogin = true;

    function checkSession() {
        const user = localStorage.getItem('user');
        if(user){
            dashboard.style.display='flex';
            modal.style.display='none';
            document.getElementById('user-name').innerText = user;
        }else{
            dashboard.style.display='none';
            modal.style.display='flex';
        }
    }

    authBtn.addEventListener('click', () => {
        const username = document.getElementById('username').value.trim();
        const password = document.getElementById('password').value.trim();
        if(username==='' || password===''){ alert('Please fill all fields'); return; }
        const stored = JSON.parse(localStorage.getItem('accounts')||'{}');
        if(isLogin){
            if(stored[username] && stored[username]===password){ localStorage.setItem('user',username); checkSession(); } 
            else{ alert('Invalid credentials!'); }
        } else {
            if(stored[username]){ alert('Username exists!'); return; }
            stored[username]=password;
            localStorage.setItem('accounts',JSON.stringify(stored));
            localStorage.setItem('user',username); checkSession();
        }
    });

    switchAuth.addEventListener('click',()=>{
        isLogin=!isLogin;
        authTitle.innerText=isLogin?'Login':'Sign Up';
        authBtn.innerText=isLogin?'Login':'Sign Up';
        switchAuth.innerText=isLogin?"Don't have an account? Sign Up":"Already have account? Login";
    });

    function logout(){ localStorage.removeItem('user'); checkSession(); }

    document.addEventListener('DOMContentLoaded',checkSession);

    // ---------------- Dashboard Interactivity ----------------
    const navLinks = document.querySelectorAll('.nav-links a');
    navLinks.forEach(link=>{link.addEventListener('click',function(){navLinks.forEach(item=>item.classList.remove('active')); this.classList.add('active');});});

    // ---------------- Add Patient ----------------
    const openFormBtn = document.getElementById('open-patient-form');
    const patientModal = document.getElementById('patient-modal');
    const addPatientBtn = document.getElementById('add-patient-btn');

    openFormBtn.addEventListener('click',()=>{patientModal.style.display='flex';});
    addPatientBtn.addEventListener('click',()=>{
        const name = document.getElementById('patient-name').value.trim();
        const age = document.getElementById('patient-age').value.trim();
        const condition = document.getElementById('patient-condition').value.trim();
        const doctor = document.getElementById('patient-doctor').value.trim();
        if(!name||!age||!condition||!doctor){ alert('Please fill all fields'); return; }

        // Add to Queue
        const queueList = document.getElementById('queue-list');
        const queueItem = document.createElement('div');
        queueItem.className='queue-item';
        const time = new Date();
        const formattedTime = time.getHours()+':'+(time.getMinutes()<10?'0':'')+time.getMinutes();
        queueItem.innerHTML=`<div>${name}</div><div>${formattedTime}</div><div>${doctor}</div><div><span class="status status-waiting">Waiting</span></div>`;
        queueList.appendChild(queueItem);

        // Add to Patient Records
        const patientGrid = document.getElementById('patient-grid');
        const patientCard = document.createElement('div');
        patientCard.className='patient-card';
        patientCard.innerHTML=`<div class="patient-header"><img src="https://xsgames.co/randomusers/avatar.php?g=male"><div><h3>${name}</h3><p>ID: P-${Date.now()}</p></div></div>
        <div class="patient-info"><div class="patient-detail"><span class="detail-label">Age:</span><span>${age} years</span></div>
        <div class="patient-detail"><span class="detail-label">Condition:</span><span>${condition}</span></div>
        <div class="patient-detail"><span class="detail-label">Doctor:</span><span>${doctor}</span></div></div>`;
        patientGrid.appendChild(patientCard);

        // Update counts
        const totalPatients = document.getElementById('total-patients');
        totalPatients.innerText = parseInt(totalPatients.innerText)+1;
        const inQueue = document.getElementById('in-queue');
        inQueue.innerText = parseInt(inQueue.innerText)+1;

        // Reset and close form
        document.getElementById('patient-name').value='';
        document.getElementById('patient-age').value='';
        document.getElementById('patient-condition').value='';
        document.getElementById('patient-doctor').value='';
        patientModal.style.display='none';
    });

    // Close modal if click outside
    window.addEventListener('click',e=>{ if(e.target===patientModal) patientModal.style.display='none'; });
</script>

</body>
</html>
